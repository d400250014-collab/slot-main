<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Manajemen Kelapa</title>
<style>
body{
  font-family: Arial;
  background:#e6f5e6;
  color:#014d01;
  margin:0;
  padding:0;
}
header{
  background:#27ae60;
  color:white;
  text-align:center;
  padding:20px 0;
  font-size:24px;
  font-weight:bold;
}
.container{
  max-width:800px;
  margin:20px auto;
  background:white;
  padding:20px;
  border-radius:10px;
  box-shadow:0 0 10px rgba(0,0,0,0.2);
}
h2{color:#27ae60;}
table{
  width:100%;
  border-collapse: collapse;
  margin-bottom:20px;
}
th, td{
  border:1px solid #27ae60;
  padding:8px;
  text-align:center;
}
th{background:#2ecc71;color:white;}
input, select{
  padding:5px;
  margin:5px 0;
}
button{
  background:#27ae60;
  color:white;
  border:none;
  padding:8px 12px;
  cursor:pointer;
  border-radius:5px;
}
button:hover{background:#2ecc71;}
.msg{
  margin:10px 0;
  color:#e74c3c;
  font-weight:bold;
}
</style>
</head>
<body>

<header>Manajemen Kelapa</header>
<div class="container">

<h2>Tambah Stock Datang</h2>
<label>Jumlah Kelapa:</label>
<input type="number" id="stockMasuk" min="1" value="10">
<button onclick="tambahStock()">Tambah</button>

<h2>Stock Kelapa Saat Ini</h2>
<div id="currentStock">0</div>

<h2>Kelapa Keluar / Penjualan</h2>
<label>Jumlah Kelapa:</label>
<input type="number" id="stockKeluar" min="1" value="5">
<button onclick="kurangiStock()">Kurangi</button>

<h2>Panen</h2>
<label>Tanggal Panen:</label>
<input type="date" id="tanggalPanen">
<label>Jumlah Kelapa:</label>
<input type="number" id="panenJumlah" min="1" value="20">
<button onclick="tambahPanen()">Catat Panen</button>

<h2>Riwayat Panen</h2>
<table id="tablePanen">
<tr><th>Tanggal</th><th>Jumlah</th></tr>
</table>

</div>

<script>
// Inisialisasi stock
let stock = parseInt(localStorage.getItem('stockKelapa')) || 0;
updateStock();

// Fungsi update stock
function updateStock(){
  document.getElementById('currentStock').innerText = stock + " kelapa";
  localStorage.setItem('stockKelapa', stock);
}

// Tambah stock datang
function tambahStock(){
  let masuk = parseInt(document.getElementById('stockMasuk').value);
  if(isNaN(masuk) || masuk<=0){alert("Masukkan jumlah valid!"); return;}
  stock += masuk;
  updateStock();
}

// Kurangi stock keluar
function kurangiStock(){
  let keluar = parseInt(document.getElementById('stockKeluar').value);
  if(isNaN(keluar) || keluar<=0 || keluar>stock){alert("Jumlah tidak valid!"); return;}
  stock -= keluar;
  updateStock();
}

// Catat panen
function tambahPanen(){
  let tanggal = document.getElementById('tanggalPanen').value;
  let jumlah = parseInt(document.getElementById('panenJumlah').value);
  if(!tanggal){alert("Pilih tanggal panen!"); return;}
  if(isNaN(jumlah)||jumlah<=0){alert("Masukkan jumlah valid!"); return;}

  let table = document.getElementById('tablePanen');
  let row = table.insertRow(-1);
  let cell1 = row.insertCell(0);
  let cell2 = row.insertCell(1);
  cell1.innerText = tanggal;
  cell2.innerText = jumlah;

  stock += jumlah;
  updateStock();
}
</script>

</body>
</html>
